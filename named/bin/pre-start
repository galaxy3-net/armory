#!/usr/bin/env bash
var1=${@}

__RESOLVE_FILE_/etc/resolv.conf

function update_domain
{
  echo "domain ${1}" >> ${__RESOLVE_FILE_}
}

function update_searchlist
{
  echo "search ${1}" >> ${__RESOLVE_FILE_}
}

cat <<__EOD__

  Processing Domains

  ${var1[@]}

__EOD__


for item in ${var1[@]}
do
  echo "Checking ${item}"
  egrep "domain ${item}" ${__RESOLVE_FILE_} ||  update_domain "${item}"
done

egrep "search ${var1[@]}" || update_searchlist ${var1[@]}

printf "\n\n${__RESOLVE_FILE_}\n"
cat ${__RESOLVE_FILE_}

cat <<__EOD__

Finished

__EOD__


